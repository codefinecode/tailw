<template>
  <svg :width="size" :height="size" :viewBox="`0 0 ${viewBoxSize} ${viewBoxSize}`" xmlns="http://www.w3.org/2000/svg">
    <path d="M49.763 14.5273C22.5637 12.8115 14.9949 22.0828 10.7244 38.8294C8.02073 52.1145 13.5663 60.4349 38.8004 65.5646C70.3431 71.9768 74.3184 55.0461 74.6396 55.128C74.9607 55.2099 83.762 16.672 49.763 14.5273Z" :fill="color"/>
    <path
        d="M51.1907 9.97458C19.3751 7.96761 10.5216 18.8124 5.5263 38.4014C2.36377 53.9412 8.85053 63.6738 38.3675 69.6742C75.2637 77.1747 79.9138 57.3704 80.2894 57.4662C80.6651 57.562 90.9601 12.4833 51.1907 9.97458Z"
        :stroke="color"
        stroke-width="3"
        stroke-linecap="round"
        fill="transparent"
        :stroke-dasharray="circumference"
        :stroke-dashoffset="dashOffset"
    />
    <path d="M32.4736 32.583L33.5273 37.3667L35.1303 35.7598L37.0148 33.9345L41.882 35.2724C40.4972 36.4028 39.3379 37.4079 38.4041 38.2878C37.4829 39.1601 36.6729 40.0178 35.9742 40.8609L38.5336 50.2372L31.5841 48.465L31.1295 46.011L30.6277 43.9319L27.3234 47.0883L26.424 48.149L21.689 46.103L24.2997 43.7695L28.8141 39.5349L26.1751 30.9768L32.4736 32.583ZM40.8133 50.5928C41.585 47.6506 42.2328 45.5529 42.7566 44.2997C43.2905 43.0491 43.8786 42.1133 44.5207 41.4923C45.2287 40.8236 46.2542 40.3433 47.5971 40.0515C48.9526 39.7522 51.3701 39.5678 54.8493 39.4982L56.2778 33.8963L51.9931 32.8036L50.6783 37.58L44.8118 35.9873C44.9025 35.5051 44.9828 35.0849 45.0527 34.7264C45.1353 34.3605 45.2062 34.0614 45.2654 33.8293C45.5331 32.7796 45.836 32.0344 46.174 31.5939C46.5147 31.1432 47.0462 30.6821 47.7684 30.2106C48.8986 29.4883 50.0792 29.053 51.3103 28.9046C52.5541 28.7488 53.9632 28.8716 55.5378 29.2732C58.0613 29.9167 59.8445 31.0809 60.8876 32.7659C61.9332 34.4408 62.1459 36.4945 61.5256 38.9271C61.0726 40.7036 60.2743 42.0211 59.1309 42.8798C58.0001 43.7309 56.2618 44.2874 53.916 44.5492C52.7861 44.6804 51.6399 44.7697 50.4775 44.8173C49.3177 44.8548 48.7037 44.881 48.6354 44.8958C48.5443 44.9156 48.4632 44.9809 48.3919 45.0917C48.3232 45.1924 48.24 45.4346 48.1422 45.8182L48.0881 46.0301C48.0367 46.232 47.9904 46.3922 47.9494 46.5108C47.9186 46.6319 47.8902 46.7429 47.8645 46.8438C48.1849 46.9363 48.5508 47.0403 48.962 47.156C49.3759 47.2615 50.0269 47.4275 50.9152 47.654C52.5604 48.0736 54.0115 48.4114 55.2685 48.6674C56.5381 48.9159 57.6452 49.0853 58.5896 49.1757C58.3339 49.8414 58.0932 50.5111 57.8677 51.1846C57.6549 51.8506 57.4648 52.5116 57.2975 53.1677C57.2435 53.3797 57.1893 53.6131 57.1351 53.868C57.0834 54.1128 57.0149 54.4447 56.9295 54.8637C54.5203 54.1096 52.6459 53.5349 51.3062 53.1395C49.9766 52.7467 48.792 52.4177 47.7524 52.1526C46.7531 51.8978 45.678 51.6452 44.5271 51.3947C43.3788 51.1341 42.1409 50.8668 40.8133 50.5928Z" fill="white"/>
  </svg>
</template>

<script>
export default {
  name: 'ProgressRing',
  props: {
    progress: {
      type: Number,
      required: true,
      validator: value => value >= 0 && value <= 100
    },
    size: {
      type: Number,
      default: 80
    },
    color: {
      type: String,
      default: '#2BABEE'
    }
  },
  computed: {
    circumference() {
      return 2 * Math.PI * (this.size / 2 - 3)
    },
    dashOffset() {
      return this.circumference - (this.progress / 100) * this.circumference
    },
    viewBoxSize() {
      // Учитываем ширину обводки для корректного отображения
      return this.size + (this.size * 0.15) // 0.15 - примерное значение для коррекции обводки
    }
  }
}
</script>
